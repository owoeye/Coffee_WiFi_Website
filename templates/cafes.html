{% extends 'bootstrap/base.html' %}

{% block styles %}
{{super()}}
<link rel="stylesheet"
      href="{{url_for('static', filename='css/styles.css')}}">
{% endblock %}

{% block title %}Restaurants{% endblock %}

{% block content %}

<div class="container">
  <div class="row">
    <div class="col-sm-12">

      <h1>All Cafes</h1>
      <div class="text-right">
        <a class="button btn btn-warning btn-lg" href={{url_for("search")}} role="button">Advanced Search</a>
        <a class="button btn btn-warning btn-lg" href={{url_for("add_cafe")}} role="button">Add cafe (+)</a>
        <p>&nbsp</p>
      </div>

	  <table class="table table-dark">
          <!-- This is where you will write the code to render a Bootstrap
          Table that contains all the information from the
          cafe-data.csv file. -->
          <thead>
            <tr>
              {% for heading in ["Name", "Map URL", "Image URL", "Location", "Seats", "Toilet", "WiFi", "Sockets", "Caller Friendly", "Coffee Price"] %}
                {% if heading != "id"%}
                  <th scope="col">{{ heading }}</th>
                {% endif %}
              {% endfor %}
            </tr>
          </thead>
          <tbody>
            {% for cafe in cafes %}
                <tr>
                {% for data in cafe %}
                    {% if data != "id" %}
                        {% if data == "name" %}
                            <td><a href={{url_for("edit", name=cafe[data])}}>{{cafe[data]}}</a></td>
                        {% elif data == "map_url" %}
                            <td><a href="{{ cafe[data] }}">Map Link</a></td>
                        {% elif data == "img_url" %}
                            <td><a href="{{ cafe[data] }}">Image Link</a></td>
                        {% elif data == "has_toilet" and cafe[data] == True %}
                            <td> ðŸš» ðŸš½ </td>
                        {% elif data == "has_wifi" and cafe[data] == True %}
                            <td> ðŸ›œ </td>
                        {% elif data == "has_sockets" and cafe[data] == True %}
                            <td> ðŸ”Œ </td>
                        {% elif data == "can_take_calls" and cafe[data] == True %}
                            <td> ðŸ“± </td>
                        {% elif cafe[data] == False %}
                            <td> âœ˜ </td>
                        {% else %}
                            <td>{{ cafe[data] }}</td>
                        {% endif %}
                    {% endif %}
                {% endfor %}
                </tr>
            {% endfor %}
          </tbody>
  	  </table>

      <p><a href="{{ url_for('home') }}">Return to index page</a></p>

    </div>
  </div>
</div>

{% endblock %}
